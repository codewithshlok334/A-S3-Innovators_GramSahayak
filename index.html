<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>GramSahayak - AI Powered</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@400;500;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Tamil:wght@400;500;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Telugu:wght@400;500;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@400;500;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Gujarati:wght@400;500;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Marathi:wght@400;500;700&display=swap');
        
        :root {
            --md-sys-color-primary: #2D6A4F;
            --md-sys-color-surface: #fcfdf6;
        }

        body { 
            font-family: 'Noto Sans Devanagari', sans-serif; 
            background-color: var(--md-sys-color-surface);
            color: #1a1c18;
            margin: 0;
            padding: 0;
            user-select: none;
        }

        .activity {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--md-sys-color-surface);
            overflow-y: auto;
            padding-bottom: 80px;
        }

        .activity.active { display: block; animation: activityIn 0.3s ease-out; }

        @keyframes activityIn {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .app-bar {
            position: sticky;
            top: 0;
            background: var(--md-sys-color-surface);
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            z-index: 100;
            border-bottom: 1px solid #dfe4d7;
            flex-wrap: wrap;
        }

        .card-material {
            background: white;
            border-radius: 16px;
            padding: 16px;
            margin: 8px 16px;
            border: 1px solid #dfe4d7;
            transition: transform 0.1s;
        }

        .card-material:active { transform: scale(0.98); background: #f0f3e8; }

        .bottom-nav {
            position: fixed;
            bottom: 0;
            width: 100%;
            height: 70px;
            background: #f0f3e8;
            display: flex;
            justify-content: space-around;
            align-items: center;
            border-top: 1px solid #dfe4d7;
            z-index: 1000;
        }

        .nav-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 12px;
            color: #43493e;
            background: none;
            border: none;
            width: 64px;
            cursor: pointer;
        }

        .nav-btn.active { color: #2D6A4F; font-weight: bold; }

        .ai-badge {
            background: linear-gradient(135deg, #6366f1 0%, #a855f7 100%);
            color: white;
            font-size: 10px;
            padding: 2px 8px;
            border-radius: 99px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 4px;
        }

        .chat-bubble {
            padding: 12px;
            border-radius: 12px;
            margin: 8px 0;
            max-width: 90%;
            font-size: 14px;
            line-height: 1.5;
        }
        .ai-msg { background: #eef2ff; border: 1px solid #c7d2fe; color: #3730a3; align-self: flex-start; }
        .user-msg { background: #f0fdf4; border: 1px solid #bbf7d0; color: #166534; align-self: flex-end; margin-left: auto; }

        .loading-dots:after {
            content: '.';
            animation: dots 1.5s steps(5, end) infinite;
        }
        @keyframes dots { 0%, 20% { content: '.'; } 40% { content: '..'; } 60% { content: '...'; } 80%, 100% { content: ''; } }

        select.lang-select {
            padding: 4px 8px;
            border-radius: 20px;
            border: 1px solid #2D6A4F;
            background: white;
            font-size: 14px;
            margin-left: auto;
        }
    </style>
</head>
<body>

    <!-- MainActivity -->
    <div id="MainActivity" class="activity active">
        <div class="app-bar">
            <h1 class="text-xl font-bold text-green-900" data-i18n="appName">GramSahayak</h1>
            <select id="langSelector" class="lang-select">
                <option value="hi">рд╣рд┐рдВрджреА</option>
                <option value="en">English</option>
                <option value="ta">родрооро┐ро┤рпН</option>
                <option value="te">р░др▒Жр░▓р▒Бр░Чр▒Б</option>
                <option value="bn">ржмрж╛ржВрж▓рж╛</option>
                <option value="mr">рдорд░рд╛рдареА</option>
                <option value="gu">ркЧрлБркЬрк░рк╛ркдрлА</option>
            </select>
        </div>
        
        <!-- Weather Card -->
        <div class="card-material bg-green-50" onclick="startActivity('WeatherActivity')">
            <div class="flex justify-between items-center">
                <div>
                    <p class="text-xs font-bold text-green-700 uppercase tracking-tighter" data-i18n="weatherUpdate">рдореМрд╕рдо рдЕрдкрдбреЗрдЯ</p>
                    <p class="text-xl font-bold" id="weatherTemp">32┬░C тАв рд╕рд╛рдлрд╝ рдЖрд╕рдорд╛рди</p>
                    <p class="text-xs text-gray-500" id="weatherLocation">рд╡рд╛рд░рд╛рдгрд╕реА, рдЙрддреНрддрд░ рдкреНрд░рджреЗрд╢</p>
                </div>
                <span class="text-4xl" id="weatherIcon">тШАя╕П</span>
            </div>
        </div>

        <div class="px-4 py-2 mt-4">
            <h2 class="text-sm font-bold text-gray-500 uppercase tracking-widest" data-i18n="mainServices">рдореБрдЦреНрдп рд╕реЗрд╡рд╛рдПрдВ</h2>
        </div>

        <div class="grid grid-cols-2 gap-0">
            <div class="card-material flex flex-col items-center py-6" onclick="startActivity('CropActivity')">
                <div class="ai-badge" data-i18n="new">тЬи NEW</div>
                <span class="text-3xl mb-2">ЁЯМ╛</span>
                <span class="font-bold" data-i18n="cropAdvisory">рдлрд╕рд▓ рд╕рд▓рд╛рд╣</span>
            </div>
            <div class="card-material flex flex-col items-center py-6" onclick="startActivity('SchemesActivity')">
                <div class="ai-badge" data-i18n="new">тЬи NEW</div>
                <span class="text-3xl mb-2">ЁЯУЬ</span>
                <span class="font-bold" data-i18n="schemes">рдпреЛрдЬрдирд╛рдПрдВ</span>
            </div>
            <div class="card-material flex flex-col items-center py-6" onclick="startActivity('HealthActivity')">
                <span class="text-3xl mb-2">ЁЯПе</span>
                <span class="font-bold" data-i18n="health">рд╕реНрд╡рд╛рд╕реНрдереНрдп</span>
            </div>
            <div class="card-material flex flex-col items-center py-6" onclick="startActivity('LoansActivity')">
                <span class="text-3xl mb-2">ЁЯТ░</span>
                <span class="font-bold" data-i18n="loans">рд▓реЛрди/рдмреИрдВрдХ</span>
            </div>
        </div>
    </div>

    <!-- AI Feature Activity -->
    <div id="AIActivity" class="activity">
        <div class="app-bar">
            <button onclick="onBackPressed()" class="text-2xl p-2">тЖР</button>
            <h1 class="text-xl font-bold" id="ai-title" data-i18n="aiAssistant">тЬи AI Assistant</h1>
            <select id="langSelectorAI" class="lang-select" style="margin-left:auto;">
                <option value="hi">рд╣рд┐рдВрджреА</option>
                <option value="en">English</option>
                <option value="ta">родрооро┐ро┤рпН</option>
                <option value="te">р░др▒Жр░▓р▒Бр░Чр▒Б</option>
                <option value="bn">ржмрж╛ржВрж▓рж╛</option>
                <option value="mr">рдорд░рд╛рдареА</option>
                <option value="gu">ркЧрлБркЬрк░рк╛ркдрлА</option>
            </select>
        </div>
        <div class="p-4 flex flex-col min-h-full">
            <div id="ai-chat-history" class="flex-grow flex flex-col">
                <div class="chat-bubble ai-msg" id="ai-intro-text" data-i18n="aiIntro">рдирдорд╕реНрддреЗ! рдореИрдВ рдЖрдкрдХрд╛ рдЧреНрд░рд╛рдорд╕рд╣рд╛рдпрдХ AI рд╣реВрдБред рдЕрдкрдиреА рд╕рдорд╕реНрдпрд╛ рдиреАрдЪреЗ рд▓рд┐рдЦреЗрдВред</div>
            </div>
            
            <div class="mt-4 pb-10">
                <textarea id="ai-input" class="w-full p-4 border rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none h-24" placeholder="рдпрд╣рд╛рдБ рд▓рд┐рдЦреЗрдВ..."></textarea>
                <button id="ai-submit-btn" class="w-full mt-2 bg-indigo-600 text-white py-4 rounded-2xl font-bold flex items-center justify-center gap-2">
                    тЬи <span data-i18n="analyze">рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░реЗрдВ (Analyze)</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Generic Detail View -->
    <div id="DetailView" class="activity">
        <div class="app-bar">
            <button onclick="onBackPressed()" class="text-2xl p-2">тЖР</button>
            <h1 class="text-xl font-bold" id="detail-title">Activity</h1>
            <select id="langSelectorDetail" class="lang-select" style="margin-left:auto;">
                <option value="hi">рд╣рд┐рдВрджреА</option>
                <option value="en">English</option>
                <option value="ta">родрооро┐ро┤рпН</option>
                <option value="te">р░др▒Жр░▓р▒Бр░Чр▒Б</option>
                <option value="bn">ржмрж╛ржВрж▓рж╛</option>
                <option value="mr">рдорд░рд╛рдареА</option>
                <option value="gu">ркЧрлБркЬрк░рк╛ркдрлА</option>
            </select>
        </div>
        <div id="detail-content" class="p-4"></div>
    </div>

    <!-- WeatherActivity -->
    <div id="WeatherActivity" class="activity">
        <div class="app-bar">
            <button onclick="onBackPressed()" class="text-2xl p-2">тЖР</button>
            <h1 class="text-xl font-bold" data-i18n="weatherInfo">рдореМрд╕рдо рдХреА рдЬрд╛рдирдХрд╛рд░реА</h1>
            <select id="langSelectorWeather" class="lang-select" style="margin-left:auto;">
                <option value="hi">рд╣рд┐рдВрджреА</option>
                <option value="en">English</option>
                <option value="ta">родрооро┐ро┤рпН</option>
                <option value="te">р░др▒Жр░▓р▒Бр░Чр▒Б</option>
                <option value="bn">ржмрж╛ржВрж▓рж╛</option>
                <option value="mr">рдорд░рд╛рдареА</option>
                <option value="gu">ркЧрлБркЬрк░рк╛ркдрлА</option>
            </select>
        </div>
        <div class="p-4">
            <div class="card-material !mx-0 text-center py-10 bg-blue-50">
                <p class="text-5xl mb-4" id="weatherIconBig">тШАя╕П</p>
                <p class="text-4xl font-bold" id="weatherTempBig">32┬░C</p>
                <p class="text-gray-600" id="weatherDesc">рд╕рд╛рдлрд╝ рдФрд░ рдзреВрдк</p>
                <p class="text-sm text-gray-500 mt-2" id="weatherLocationBig">рд╡рд╛рд░рд╛рдгрд╕реА, рдЙрддреНрддрд░ рдкреНрд░рджреЗрд╢</p>
            </div>
            <div class="mt-4 grid grid-cols-2 gap-4">
                <div class="bg-white p-4 rounded-2xl border">
                    <p class="text-xs text-gray-500" data-i18n="humidity">рдирдореА (Humidity)</p>
                    <p class="font-bold" id="weatherHumidity">45%</p>
                </div>
                <div class="bg-white p-4 rounded-2xl border">
                    <p class="text-xs text-gray-500" data-i18n="windSpeed">рд╣рд╡рд╛ рдХреА рдЧрддрд┐</p>
                    <p class="font-bold" id="weatherWind">12 km/h</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <button class="nav-btn active" onclick="switchMainTab('MainActivity', this)">
            <span class="text-2xl">ЁЯПа</span>
            <span data-i18n="home">рд╣реЛрдо</span>
        </button>
        <button class="nav-btn" onclick="startActivity('AI_Assistant')">
            <span class="text-2xl">тЬи</span>
            <span data-i18n="aiAssistantShort">AI рд╕рд╣рд╛рдпрдХ</span>
        </button>
    </nav>

    <script>
        // ==================== CONFIG ====================
        async function sendMessage(prompt) {
    const response = await fetch("http://localhost:5000/api/chat", ... {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            prompt: prompt
        })
    });

    const data = await response.json();
    console.log(data.reply);
}
async function getWeather(lat, lon) {
    const response = await fetch(
        `http://127.0.0.1:5000/api/weather?lat=${lat}&lon=${lon}`
    );

    const data = await response.json();
    console.log(data);
} // тЖР рдпрд╣рд╛рдБ рдЕрдкрдиреА Gemini API рдХреБрдВрдЬреА рдбрд╛рд▓реЗрдВ

        // ==================== MULTI-LANGUAGE SUPPORT ====================
        const translations = {
            en: {
                appName: "GramSahayak",
                weatherUpdate: "Weather Update",
                mainServices: "Main Services",
                new: "тЬи NEW",
                cropAdvisory: "Crop Advisory",
                schemes: "Schemes",
                health: "Health",
                loans: "Loans/Bank",
                aiAssistant: "тЬи AI Assistant",
                aiIntro: "Hello! I am your GramSahayak AI. Write your problem below.",
                analyze: "Analyze",
                weatherInfo: "Weather Info",
                humidity: "Humidity",
                windSpeed: "Wind Speed",
                home: "Home",
                aiAssistantShort: "AI Assistant",
                back: "Back",
                clearSky: "Clear Sky",
                clouds: "Clouds",
                rain: "Rain",
            },
            hi: {
                appName: "рдЧреНрд░рд╛рдорд╕рд╣рд╛рдпрдХ",
                weatherUpdate: "рдореМрд╕рдо рдЕрдкрдбреЗрдЯ",
                mainServices: "рдореБрдЦреНрдп рд╕реЗрд╡рд╛рдПрдВ",
                new: "тЬи рдирдпрд╛",
                cropAdvisory: "рдлрд╕рд▓ рд╕рд▓рд╛рд╣",
                schemes: "рдпреЛрдЬрдирд╛рдПрдВ",
                health: "рд╕реНрд╡рд╛рд╕реНрдереНрдп",
                loans: "рд▓реЛрди/рдмреИрдВрдХ",
                aiAssistant: "тЬи AI рд╕рд╣рд╛рдпрдХ",
                aiIntro: "рдирдорд╕реНрддреЗ! рдореИрдВ рдЖрдкрдХрд╛ рдЧреНрд░рд╛рдорд╕рд╣рд╛рдпрдХ AI рд╣реВрдБред рдЕрдкрдиреА рд╕рдорд╕реНрдпрд╛ рдиреАрдЪреЗ рд▓рд┐рдЦреЗрдВред",
                analyze: "рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░реЗрдВ",
                weatherInfo: "рдореМрд╕рдо рдХреА рдЬрд╛рдирдХрд╛рд░реА",
                humidity: "рдирдореА",
                windSpeed: "рд╣рд╡рд╛ рдХреА рдЧрддрд┐",
                home: "рд╣реЛрдо",
                aiAssistantShort: "AI рд╕рд╣рд╛рдпрдХ",
                back: "рд╡рд╛рдкрд╕",
                clearSky: "рд╕рд╛рдлрд╝ рдЖрд╕рдорд╛рди",
                clouds: "рдмрд╛рджрд▓",
                rain: "рдмрд╛рд░рд┐рд╢",
            },
            ta: {
                appName: "роХро┐ро░ро╛роороЪро╣ро╛ропроХрпН",
                weatherUpdate: "ро╡ро╛ройро┐ро▓рпИ рокрпБродрпБрокрпНрокро┐рокрпНрокрпБ",
                mainServices: "роорпБроХрпНроХро┐роп роЪрпЗро╡рпИроХро│рпН",
                new: "тЬи рокрпБродро┐ропродрпБ",
                cropAdvisory: "рокропро┐ро░рпН роЖро▓рпЛроЪройрпИ",
                schemes: "родро┐роЯрпНроЯроЩрпНроХро│рпН",
                health: "роЪрпБроХро╛родро╛ро░роорпН",
                loans: "роХроЯройрпН/ро╡роЩрпНроХро┐",
                aiAssistant: "тЬи AI роЙродро╡ро┐ропро╛ро│ро░рпН",
                aiIntro: "ро╡рогроХрпНроХроорпН! роиро╛ройрпН роЙроЩрпНроХро│рпН роХро┐ро░ро╛роороЪро╣ро╛ропроХрпН AI. роЙроЩрпНроХро│рпН рокро┐ро░роЪрпНроЪройрпИропрпИ роХрпАро┤рпЗ роОро┤рпБродрпБроЩрпНроХро│рпН.",
                analyze: "рокроХрпБрокрпНрокро╛ропрпНро╡рпБ",
                weatherInfo: "ро╡ро╛ройро┐ро▓рпИ родроХро╡ро▓рпН",
                humidity: "роИро░рокрпНрокродроорпН",
                windSpeed: "роХро╛ро▒рпНро▒ро┐ройрпН ро╡рпЗроХроорпН",
                home: "роорпБроХрокрпНрокрпБ",
                aiAssistantShort: "AI роЙродро╡ро┐ропро╛ро│ро░рпН",
                back: "рокро┐ройрпН",
                clearSky: "родрпЖро│ро┐роирпНрод ро╡ро╛ройроорпН",
                clouds: "роорпЗроХроЩрпНроХро│рпН",
                rain: "рооро┤рпИ",
            },
            // ... other languages as before ...
        };

        let currentLanguage = 'hi';

        function setLanguage(lang) {
            currentLanguage = lang;
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (translations[lang] && translations[lang][key]) {
                    el.innerText = translations[lang][key];
                } else if (translations.en[key]) {
                    el.innerText = translations.en[key];
                }
            });
            // Update AI title if on AI page
            const aiTitle = document.getElementById('ai-title');
            if (aiTitle && translations[lang] && translations[lang].aiAssistant) {
                aiTitle.innerText = translations[lang].aiAssistant;
            }
        }

        function syncLanguageSelectors(lang) {
            document.querySelectorAll('.lang-select').forEach(sel => sel.value = lang);
        }

        document.querySelectorAll('.lang-select').forEach(sel => {
            sel.addEventListener('change', (e) => {
                const lang = e.target.value;
                setLanguage(lang);
                syncLanguageSelectors(lang);
            });
        });

        // ==================== REAL-TIME WEATHER ====================
        function getWeatherDescription(weatherId, lang) {
            if (weatherId >= 200 && weatherId < 600) return translations[lang]?.rain || 'Rain';
            if (weatherId >= 600 && weatherId < 700) return 'Snow';
            if (weatherId >= 700 && weatherId < 800) return 'Haze';
            if (weatherId === 800) return translations[lang]?.clearSky || 'Clear Sky';
            if (weatherId > 800) return translations[lang]?.clouds || 'Clouds';
            return 'Unknown';
        }

        function updateWeatherUI(data, locationName) {
            const temp = Math.round(data.main.temp);
            const humidity = data.main.humidity;
            const wind = data.wind.speed;
            const weatherId = data.weather[0].id;
            const icon = data.weather[0].icon;

            document.getElementById('weatherTemp').innerText = `${temp}┬░C тАв ${getWeatherDescription(weatherId, currentLanguage)}`;
            document.getElementById('weatherLocation').innerText = locationName;
            document.getElementById('weatherIcon').innerText = getWeatherEmoji(icon);
            document.getElementById('weatherTempBig').innerText = `${temp}┬░C`;
            document.getElementById('weatherDesc').innerText = getWeatherDescription(weatherId, currentLanguage);
            document.getElementById('weatherLocationBig').innerText = locationName;
            document.getElementById('weatherHumidity').innerText = `${humidity}%`;
            document.getElementById('weatherWind').innerText = `${wind} km/h`;
            document.getElementById('weatherIconBig').innerText = getWeatherEmoji(icon);
        }

        function getWeatherEmoji(iconCode) {
            const map = {
                '01d': 'тШАя╕П', '01n': 'ЁЯМЩ',
                '02d': 'тЫЕ', '02n': 'тШБя╕П',
                '03d': 'тШБя╕П', '03n': 'тШБя╕П',
                '04d': 'тШБя╕П', '04n': 'тШБя╕П',
                '09d': 'ЁЯМзя╕П', '09n': 'ЁЯМзя╕П',
                '10d': 'ЁЯМжя╕П', '10n': 'ЁЯМзя╕П',
                '11d': 'тЫИя╕П', '11n': 'тЫИя╕П',
                '13d': 'тЭДя╕П', '13n': 'тЭДя╕П',
                '50d': 'ЁЯМля╕П', '50n': 'ЁЯМля╕П',
            };
            return map[iconCode] || 'тШАя╕П';
        }

        function fetchWeather(lat, lon) {
    fetch(`http://127.0.0.1:5000/api/weather?lat=${lat}&lon=${lon}`)
        .then(res => res.json())
        .then(data => {
            if (data.cod === 200) {
                updateWeatherUI(data, data.name + ', ' + (data.sys.country || ''));
            } else {
                throw new Error(data.message || 'Weather error');
            }
        })
        .catch(err => {
            console.error("Weather fetch error:", err);
            // fallback dummy data
            updateWeatherUI({
                main: { temp: 30, humidity: 50 },
                wind: { speed: 10 },
                weather: [{ id: 800, icon: '01d' }]
            }, "Varanasi, UP");
        });

            const url = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=metric&appid=${WEATHER_API_KEY}`;
            fetch(url)
                .then(res => res.json())
                .then(data => {
                    if (data.cod === 200) {
                        const locationName = data.name + ', ' + (data.sys.country || '');
                        updateWeatherUI(data, locationName);
                    } else {
                        throw new Error(data.message);
                    }
                })
                .catch(err => {
                    console.error("Weather fetch error:", err);
                    updateWeatherUI({
                        main: { temp: 30, humidity: 50 },
                        wind: { speed: 10 },
                        weather: [{ id: 800, icon: '01d' }]
                    }, "Varanasi, UP");
                });
        }

        function getLocationAndWeather() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        const lat = position.coords.latitude;
                        const lon = position.coords.longitude;
                        fetchWeather(lat, lon);
                    },
                    (error) => {
                        console.warn("Geolocation error:", error.message);
                        fetchWeather(25.3176, 82.9739);
                    }
                );
            } else {
                fetchWeather(25.3176, 82.9739);
            }
        }

        window.addEventListener('load', () => {
            getLocationAndWeather();
        });

        // ==================== APP NAVIGATION & DETAILED CROP DATA ====================
        let activityStack = ['MainActivity'];
        let currentAiMode = 'general';

        const pageData = {
            'CropActivity': { 
                title: 'рдлрд╕рд▓ рд╕рд▓рд╛рд╣', 
                items: [
                    { name: 'тЬи AI рдлрд╕рд▓ рдирд┐рджрд╛рди (Diagnosis)', isAi: true, mode: 'crop', welcome: 'рдЕрдкрдиреА рдлрд╕рд▓ рдХреА рд╕рдорд╕реНрдпрд╛ рдмрддрд╛рдПрдВ (рдЬреИрд╕реЗ: рдкрддреНрддрд┐рдпрд╛рдВ рдкреАрд▓реА, рдХреАрдбрд╝реЗ рд▓рдЧреЗ) тЬи' },
                    // ---------- рдЧреЗрд╣реВрдВ (Wheat) - рд╡рд┐рд╕реНрддреГрдд рдЬрд╛рдирдХрд╛рд░реА ----------
                    { name: 'ЁЯМ╛ рдЧреЗрд╣реВрдВ (Wheat) - рд╕рдореНрдкреВрд░реНрдг рдЬрд╛рдирдХрд╛рд░реА', content: `
                        <div class="space-y-4">
                            <p class="font-bold text-lg">ЁЯМ╛ рдЧреЗрд╣реВрдВ рдХреА рдЦреЗрддреА рдХрд╛ рд╕рдореНрдкреВрд░реНрдг рддрд░реАрдХрд╛</p>
                            <p><span class="font-semibold">рдЬрд▓рд╡рд╛рдпреБ:</span> рдардВрдбреА рдЬрд▓рд╡рд╛рдпреБ, рддрд╛рдкрдорд╛рди 15┬░C тАУ 25┬░C (рдмреБрд╡рд╛рдИ), рдХрдЯрд╛рдИ рдХреЗ рд╕рдордп 25┬░C тАУ 30┬░C [citation:4].</p>
                            <p><span class="font-semibold">рдорд┐рдЯреНрдЯреА:</span> рджреЛрдордЯ рдпрд╛ рдЪрд┐рдХрдиреА рджреЛрдордЯ рдорд┐рдЯреНрдЯреА рд╕рдмрд╕реЗ рдЙрдкрдпреБрдХреНрдд, pH 6.5 тАУ 7.5 [citation:4].</p>
                            <p><span class="font-semibold">рднреВрдорд┐ рдХреА рддреИрдпрд╛рд░реА:</span> 2-3 рдмрд╛рд░ рдЬреБрддрд╛рдИ рдХрд░рдХреЗ рдЦреЗрдд рд╕рдорддрд▓ рдХрд░реЗрдВ [citation:4].</p>
                            <p><span class="font-semibold">рдЙрдиреНрдирдд рдХрд┐рд╕реНрдореЗрдВ:</span> HD 2967 (рдЕрдзрд┐рдХ рдЙрдкрдЬ), HD 3086 (рд░реЛрдЧ рдкреНрд░рддрд┐рд░реЛрдзреА), PBW 550 (рдкрдВрдЬрд╛рдм/рд╣рд░рд┐рдпрд╛рдгрд╛), HI 1544 (рд╕реВрдЦрд╛ рд╕рд╣рдирд╢реАрд▓) [citation:4].</p>
                            <p><span class="font-semibold">рдмреАрдЬ рдЙрдкрдЪрд╛рд░:</span> рдХрд╛рд░реНрдмреЗрдиреНрдбрд╛рдЬрд┐рдо + рдерд╛рдпрд░рдо 2-3 рдЧреНрд░рд╛рдо рдкреНрд░рддрд┐ рдХрд┐рд▓реЛ рдмреАрдЬ [citation:4].</p>
                            <p><span class="font-semibold">рдмреАрдЬ рдХреА рдорд╛рддреНрд░рд╛:</span> 100-125 рдХрд┐рд▓реЛ/рд╣реЗрдХреНрдЯреЗрдпрд░ (рд╕рд╛рдорд╛рдиреНрдп), рдбреНрд░рд┐рд▓ рдмреБрд╡рд╛рдИ рдореЗрдВ 80-100 рдХрд┐рд▓реЛ [citation:4].</p>
                            <p><span class="font-semibold">рдмреБрд╡рд╛рдИ рдХрд╛ рд╕рдордп:</span> рдЙрддреНрддрд░реА рднрд╛рд░рдд рдореЗрдВ 15 рдЕрдХреНрдЯреВрдмрд░ тАУ 15 рдирд╡рдВрдмрд░ [citation:4].</p>
                            <p><span class="font-semibold">рдмреБрд╡рд╛рдИ рдХрд╛ рддрд░реАрдХрд╛:</span> рд▓рд╛рдЗрди рд╕реЗ рдмреБрд╡рд╛рдИ (20-22 рд╕реЗрдореА рджреВрд░реА), рдмреАрдЬ рдХреА рдЧрд╣рд░рд╛рдИ 4-5 рд╕реЗрдореА [citation:4].</p>
                            <p><span class="font-semibold">рдЦрд╛рдж рдПрд╡рдВ рдЙрд░реНрд╡рд░рдХ:</span> рдирд╛рдЗрдЯреНрд░реЛрдЬрди 120 kg/ha, рдлреЙрд╕реНрдлреЛрд░рд╕ 60 kg/ha, рдкреЛрдЯрд╛рд╢ 40 kg/ha. 50% рдирд╛рдЗрдЯреНрд░реЛрдЬрди + рдкреВрд░рд╛ P+K рдмреБрд╡рд╛рдИ рдХреЗ рд╕рдордп, рд╢реЗрд╖ рдирд╛рдЗрдЯреНрд░реЛрдЬрди рдкрд╣рд▓реА рд╡ рджреВрд╕рд░реА рд╕рд┐рдВрдЪрд╛рдИ рдХреЗ рд╕рдордп [citation:4].</p>
                            <p><span class="font-semibold">рд╕рд┐рдВрдЪрд╛рдИ рдХрд╛рд░реНрдпрдХреНрд░рдо:</span> 20-25 рджрд┐рди (рдЯрд┐рд▓рд░рд┐рдВрдЧ), 40-45 рджрд┐рди (рдЧрд╛рдБрда), 60-65 рджрд┐рди (рдмрд╛рд▓рд┐рдпрд╛рдБ), 80-85 рджрд┐рди (рджрд╛рдирд╛ рднрд░рдирд╛) рдкрд░ рд╕рд┐рдВрдЪрд╛рдИ рдХрд░реЗрдВ [citation:4].</p>
                            <p><span class="font-semibold">рдЦрд░рдкрддрд╡рд╛рд░ рдирд┐рдпрдВрддреНрд░рдг:</span> рдмреБрд╡рд╛рдИ рдХреЗ 25-30 рджрд┐рди рдмрд╛рдж 2,4-D 500 рдЧреНрд░рд╛рдо рдкреНрд░рддрд┐ рд╣реЗрдХреНрдЯреЗрдпрд░ рдХрд╛ рдЫрд┐рдбрд╝рдХрд╛рд╡ [citation:4].</p>
                            <p><span class="font-semibold">рдХрдЯрд╛рдИ рдПрд╡рдВ рднрдгреНрдбрд╛рд░рдг:</span> рдЬрдм рджрд╛рдирд╛ рдХрдареЛрд░ рд╣реЛ рдЬрд╛рдП, рдирдореА 12% рд╕реЗ рдХрдо рд╣реЛ, рддрдм рдХрдЯрд╛рдИ рдХрд░реЗрдВред рднрдВрдбрд╛рд░рдг рдореЗрдВ рдиреАрдо рдХреА рдкрддреНрддрд┐рдпрд╛рдБ рдбрд╛рд▓реЗрдВ [citation:4].</p>
                        </div>
                    `},
                    // ---------- рдзрд╛рди (Rice) - рд╡рд┐рд╕реНрддреГрдд рдЬрд╛рдирдХрд╛рд░реА ----------
                    { name: 'ЁЯМ╛ рдзрд╛рди (Rice) - рд╕рдореНрдкреВрд░реНрдг рдЬрд╛рдирдХрд╛рд░реА', content: `
                        <div class="space-y-4">
                            <p class="font-bold text-lg">ЁЯМ╛ рдзрд╛рди рдХреА рдЦреЗрддреА рдХрд╛ рд╕рдореНрдкреВрд░реНрдг рддрд░реАрдХрд╛</p>
                            <p><span class="font-semibold">рдЬрд▓рд╡рд╛рдпреБ:</span> рдЦрд░реАрдл рдореМрд╕рдо, рдорд╛рдирд╕реВрди рдкрд░ рдирд┐рд░реНрднрд░ред рдЕрдзрд┐рдХ рдирдореА рдФрд░ рдЧрд░реНрдореА рдЖрд╡рд╢реНрдпрдХ [citation:2].</p>
                            <p><span class="font-semibold">рдорд┐рдЯреНрдЯреА:</span> рдЪрд┐рдХрдиреА рджреЛрдордЯ рдорд┐рдЯреНрдЯреА рдЬрд┐рд╕рдореЗрдВ рдЬрд▓рдзрд╛рд░рдг рдХреНрд╖рдорддрд╛ рдЕрдзрд┐рдХ рд╣реЛ [citation:2].</p>
                            <p><span class="font-semibold">рднреВрдорд┐ рдХреА рддреИрдпрд╛рд░реА:</span> рдЦреЗрдд рдХреА рдЬреБрддрд╛рдИ рдХрд░реЗрдВ, рдкрд╛рдбрд╝ рдХрд░реЗрдВ (рдкрд╛рдиреА рднрд░рдХрд░ рдЦрд░рдкрддрд╡рд╛рд░ рдирд╖реНрдЯ рдХрд░реЗрдВ), рдмреАрдЬ рдХреНрдпрд╛рд░реА рддреИрдпрд╛рд░ рдХрд░реЗрдВ [citation:2].</p>
                            <p><span class="font-semibold">рдмреБрд╡рд╛рдИ рдХрд╛ рд╕рдордп:</span> рдЬреВрди-рдЬреБрд▓рд╛рдИ (рдорд╛рдирд╕реВрди рдЖрдиреЗ рдкрд░) [citation:2].</p>
                            <p><span class="font-semibold">рд░реЛрдкрд╛рдИ рдХрд╛ рд╕рдордп:</span> рдмреБрд╡рд╛рдИ рдХреЗ 30-45 рджрд┐рди рдмрд╛рдж, рдЬреБрд▓рд╛рдИ рдордзреНрдп рд╕реЗ рдЕрдЧрд╕реНрдд рдЕрдВрдд [citation:2].</p>
                            <p><span class="font-semibold">рдмреАрдЬ рдЙрдкрдЪрд╛рд░:</span> рдмреАрдЬреЛрдВ рдХреЛ рдХрд╡рдХрдирд╛рд╢рдХ рд╕реЗ рдЙрдкрдЪрд╛рд░рд┐рдд рдХрд░реЗрдВ рдпрд╛ рдзреВрдк рдореЗрдВ 3-4 рджрд┐рди рд╕реБрдЦрд╛рдПрдВ [citation:2].</p>
                            <p><span class="font-semibold">рд░реЛрдкрд╛рдИ рдХреА рджреВрд░реА:</span> рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЗ рдмреАрдЪ 20-25 рд╕реЗрдореА, рдкреМрдзреЛрдВ рдХреЗ рдмреАрдЪ 10-15 рд╕реЗрдореА [citation:2].</p>
                            <p><span class="font-semibold">рд╕рд┐рдВрдЪрд╛рдИ:</span> рдЦреЗрдд рдореЗрдВ 5-7 рд╕реЗрдореА рдкрд╛рдиреА рдХрд╛ рд╕реНрддрд░ рдмрдирд╛рдП рд░рдЦреЗрдВ [citation:2].</p>
                            <p><span class="font-semibold">рдЦрд╛рдж:</span> рдирд╛рдЗрдЯреНрд░реЛрдЬрди, рдлреЙрд╕реНрдлреЛрд░рд╕, рдкреЛрдЯрд╛рд╢ рдХреА рд╕рдВрддреБрд▓рд┐рдд рдорд╛рддреНрд░рд╛ рдЖрд╡рд╢реНрдпрдХ [citation:2].</p>
                            <p><span class="font-semibold">рдЦрд░рдкрддрд╡рд╛рд░ рдирд┐рдпрдВрддреНрд░рдг:</span> рдирд┐рд░рд╛рдИ-рдЧреБрдбрд╝рд╛рдИ рдпрд╛ рд░рд╛рд╕рд╛рдпрдирд┐рдХ рдЦрд░рдкрддрд╡рд╛рд░рдирд╛рд╢рдХ рдХрд╛ рдкреНрд░рдпреЛрдЧ [citation:2].</p>
                            <p><span class="font-semibold">рдХрдЯрд╛рдИ:</span> рдЬрдм рджрд╛рдиреЗ рд╕рдЦреНрдд рд╣реЛ рдЬрд╛рдПрдВ рдФрд░ рдкреМрдзрд╛ рдкреАрд▓рд╛ рдкрдбрд╝ рдЬрд╛рдП, рддрдм рдХрдЯрд╛рдИ рдХрд░реЗрдВред</p>
                        </div>
                    `},
                    // ---------- рдордХреНрдХрд╛ (Maize) - рд╡рд┐рд╕реНрддреГрдд рдЬрд╛рдирдХрд╛рд░реА ----------
                    { name: 'ЁЯМ╜ рдордХреНрдХрд╛ (Maize) - рд╕рдореНрдкреВрд░реНрдг рдЬрд╛рдирдХрд╛рд░реА', content: `
                        <div class="space-y-4">
                            <p class="font-bold text-lg">ЁЯМ╜ рдордХреНрдХрд╛ рдХреА рдЦреЗрддреА рдХрд╛ рд╕рдореНрдкреВрд░реНрдг рддрд░реАрдХрд╛</p>
                            <p><span class="font-semibold">рдорд┐рдЯреНрдЯреА:</span> рдвреАрд▓реА, рдЕрдЪреНрдЫреЗ рд╡рд╛рддрди рдПрд╡рдВ рдЬрд▓ рдирд┐рдХрд╛рд╕реА рд╡рд╛рд▓реА рджреЛрдордЯ рдорд┐рдЯреНрдЯреАред pH 5.8 тАУ 6.8 [citation:5].</p>
                            <p><span class="font-semibold">рдЦреЗрдд рдХреА рддреИрдпрд╛рд░реА:</span> рдкреНрд░рд╛рдердорд┐рдХ рдЬреБрддрд╛рдИ (рдкрд┐рдЫрд▓реА рдлрд╕рд▓ рдХреЗ рдмрд╛рдж) рдФрд░ рджреНрд╡рд┐рддреАрдпрдХ рдЬреБрддрд╛рдИ (рдмреБрд╡рд╛рдИ рд╕реЗ рдкрд╣рд▓реЗ) рдХрд░реЗрдВред рдорд┐рдЯреНрдЯреА рдХреЛ рднреБрд░рднреБрд░рд╛ рдмрдирд╛рдПрдВ [citation:5].</p>
                            <p><span class="font-semibold">рдмреБрд╡рд╛рдИ рдХрд╛ рд╕рдордп:</span> рдЦрд░реАрдл рдореЗрдВ рдЬреВрди-рдЬреБрд▓рд╛рдИ, рд░рдмреА рдореЗрдВ рдЕрдХреНрдЯреВрдмрд░-рдирд╡рдВрдмрд░ред</p>
                            <p><span class="font-semibold">рдмреАрдЬ рджрд░:</span> 18-20 рдХрд┐рд▓реЛ рдкреНрд░рддрд┐ рд╣реЗрдХреНрдЯреЗрдпрд░ (рд╕рдВрдХрд░ рдХрд┐рд╕реНрдо)ред</p>
                            <p><span class="font-semibold">рдмреБрд╡рд╛рдИ рдХреА рд╡рд┐рдзрд┐:</span> рд▓рд╛рдЗрди рд╕реЗ рдмреБрд╡рд╛рдИ, рдХрддрд╛рд░ рд╕реЗ рдХрддрд╛рд░ 60 рд╕реЗрдореА, рдкреМрдзреЗ рд╕реЗ рдкреМрдзреЗ 20-25 рд╕реЗрдореА [citation:5].</p>
                            <p><span class="font-semibold">рдЦрд╛рдж:</span> рдирд╛рдЗрдЯреНрд░реЛрдЬрди 120 рдХрд┐рд▓реЛ, рдлреЙрд╕реНрдлреЛрд░рд╕ 60 рдХрд┐рд▓реЛ, рдкреЛрдЯрд╛рд╢ 40 рдХрд┐рд▓реЛ рдкреНрд░рддрд┐ рд╣реЗрдХреНрдЯреЗрдпрд░ред</p>
                            <p><span class="font-semibold">рд╕рд┐рдВрдЪрд╛рдИ:</span> рдлреВрд▓ рдЖрдиреЗ рдФрд░ рджрд╛рдирд╛ рднрд░рдиреЗ рдХреЗ рд╕рдордп рдирдореА рдХрд╛ рддрдирд╛рд╡ рди рд╣реЛрдиреЗ рджреЗрдВред</p>
                            <p><span class="font-semibold">рдЦрд░рдкрддрд╡рд╛рд░ рдирд┐рдпрдВрддреНрд░рдг:</span> рдирд┐рд░рд╛рдИ-рдЧреБрдбрд╝рд╛рдИ рдпрд╛ рдПрдЯреНрд░рд╛рдЬреАрди рдХрд╛ рдЫрд┐рдбрд╝рдХрд╛рд╡ред</p>
                            <p><span class="font-semibold">рдХрдЯрд╛рдИ:</span> рдЬрдм рднреВрд╕реА рд╕реВрдЦрдХрд░ рдкреАрд▓реА рдкрдбрд╝ рдЬрд╛рдП рдФрд░ рджрд╛рдиреЗ рд╕рдЦреНрдд рд╣реЛ рдЬрд╛рдПрдВред</p>
                        </div>
                    `},
                    // ---------- рджрд╛рд▓реЗрдВ (Pulses - рд╕рд╛рдорд╛рдиреНрдп) ----------
                    { name: 'ЁЯлШ рджрд╛рд▓реЗрдВ (Pulses) - рд╕рдореНрдкреВрд░реНрдг рдЬрд╛рдирдХрд╛рд░реА', content: `
                        <div class="space-y-4">
                            <p class="font-bold text-lg">ЁЯлШ рджрд╛рд▓реЛрдВ (рдЕрд░рд╣рд░, рдЪрдирд╛, рдореВрдВрдЧ, рдЙрдбрд╝рдж, рдорд╕реВрд░) рдХреА рдЦреЗрддреА рдХрд╛ рд╕рд╛рдорд╛рдиреНрдп рддрд░реАрдХрд╛</p>
                            <p><span class="font-semibold">рдЬрд▓рд╡рд╛рдпреБ:</span> рдардВрдбреА рдФрд░ рд╢реБрд╖реНрдХ рдЬрд▓рд╡рд╛рдпреБ, рддрд╛рдкрдорд╛рди 15-22┬░C [citation:1].</p>
                            <p><span class="font-semibold">рдорд┐рдЯреНрдЯреА:</span> рдЕрдЪреНрдЫреА рдирд┐рдХрд╛рд╕реА рд╡рд╛рд▓реА рджреЛрдордЯ рдорд┐рдЯреНрдЯреА, pH 6.0-7.5. рдирдордХреАрди рдпрд╛ рдЬрд▓рдЬрдорд╛рд╡ рд╡рд╛рд▓реА рдорд┐рдЯреНрдЯреА рдЕрдиреБрдкрдпреБрдХреНрдд [citation:1][citation:6].</p>
                            <p><span class="font-semibold">рдЦреЗрдд рдХреА рддреИрдпрд╛рд░реА:</span> рднрд╛рд░реА рдорд┐рдЯреНрдЯреА рдореЗрдВ рдЧрд╣рд░реА рдЬреБрддрд╛рдИ, рд╣рд▓реНрдХреА рдорд┐рдЯреНрдЯреА рдореЗрдВ рдХрдо рдЬреБрддрд╛рдИред рдЦреЗрдд рд╕рдорддрд▓ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП [citation:6].</p>
                            <p><span class="font-semibold">рдмреБрд╡рд╛рдИ рдХрд╛ рд╕рдордп:</span> рдордзреНрдп рдЕрдХреНрдЯреВрдмрд░ рд╕реЗ рдирд╡рдВрдмрд░ рдХрд╛ рдкрд╣рд▓рд╛ рдкрдЦрд╡рд╛рдбрд╝рд╛ [citation:6].</p>
                            <p><span class="font-semibold">рдмреАрдЬ рджрд░:</span> 12-15 рдХрд┐рд▓реЛ рдкреНрд░рддрд┐ рдПрдХрдбрд╝ (рдорд╕реВрд░), 10-12 рдХрд┐рд▓реЛ рдкреНрд░рддрд┐ рдПрдХрдбрд╝ (рдЪрдирд╛) [citation:6].</p>
                            <p><span class="font-semibold">рдмреАрдЬ рдЙрдкрдЪрд╛рд░:</span> рдХреИрдкреНрдЯрд╛рди рдпрд╛ рдереАрд░рдо 3 рдЧреНрд░рд╛рдо рдкреНрд░рддрд┐ рдХрд┐рд▓реЛ рдмреАрдЬред рд░рд╛рдЗрдЬреЛрдмрд┐рдпрдо рдХрд▓реНрдЪрд░ рд╕реЗ рдЙрдкрдЪрд╛рд░ рднреА рд▓рд╛рднрджрд╛рдпрдХ [citation:6].</p>
                            <p><span class="font-semibold">рдмреБрд╡рд╛рдИ рдХреА рдЧрд╣рд░рд╛рдИ:</span> 3-4 рд╕реЗрдореА [citation:6].</p>
                            <p><span class="font-semibold">рдкрдВрдХреНрддрд┐ рджреВрд░реА:</span> 22 рд╕реЗрдореА (рд╕рд╛рдорд╛рдиреНрдп), рджреЗрд░ рд╕реЗ рдмреБрд╡рд╛рдИ рдореЗрдВ 20 рд╕реЗрдореА [citation:6].</p>
                            <p><span class="font-semibold">рдЦрд╛рдж:</span> рдирд╛рдЗрдЯреНрд░реЛрдЬрди 5 рдХрд┐рд▓реЛ (12 рдХрд┐рд▓реЛ рдпреВрд░рд┐рдпрд╛), рдлрд╛рд╕реНрдлреЛрд░рд╕ 8 рдХрд┐рд▓реЛ (50 рдХрд┐рд▓реЛ рд╕рд┐рдВрдЧрд▓ рд╕реБрдкрд░ рдлрд╛рд╕реНрдлреЗрдЯ) рдкреНрд░рддрд┐ рдПрдХрдбрд╝ рдмреБрд╡рд╛рдИ рдХреЗ рд╕рдордп рдбрд╛рд▓реЗрдВ [citation:6].</p>
                            <p><span class="font-semibold">рд╕рд┐рдВрдЪрд╛рдИ:</span> рджрд╛рд▓реЛрдВ рдХреЛ рдЕрдзрд┐рдХ рдкрд╛рдиреА рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрддреАред рдХреЗрд╡рд▓ рддрднреА рд╕реАрдВрдЪреЗрдВ рдЬрдм рдорд┐рдЯреНрдЯреА рдХреА рдКрдкрд░реА рдкрд░рдд рд╕реВрдЦ рдЬрд╛рдПред рдлреВрд▓ рдЖрдиреЗ рдФрд░ рдлрд▓реА рдмрдирдиреЗ рдХреЗ рд╕рдордп рд╕рд┐рдВрдЪрд╛рдИ рдЖрд╡рд╢реНрдпрдХ [citation:1].</p>
                            <p><span class="font-semibold">рдЦрд░рдкрддрд╡рд╛рд░ рдирд┐рдпрдВрддреНрд░рдг:</span> 25-30 рджрд┐рди рдореЗрдВ рдирд┐рд░рд╛рдИ-рдЧреБрдбрд╝рд╛рдИ рдХрд░реЗрдВ рдпрд╛ рдмреЗрдб рдкреНрд▓рд╛рдВрдЯрд┐рдВрдЧ рд╡рд┐рдзрд┐ рдЕрдкрдирд╛рдПрдВ [citation:3].</p>
                            <p><span class="font-semibold">рдХрдЯрд╛рдИ:</span> рдЬрдм 80% рдлрд▓рд┐рдпрд╛рдБ рдкрдХрдХрд░ рднреВрд░реА рд╣реЛ рдЬрд╛рдПрдВ рдФрд░ рдкрддреНрддрд┐рдпрд╛рдБ рдЭрдбрд╝ рдЬрд╛рдПрдВ, рддрдм рдлрд╕рд▓ рдХрд╛рдЯ рд▓реЗрдВред</p>
                        </div>
                    `},
                    // ---------- рдореВрдВрдЧрдлрд▓реА (Groundnut) ----------
                    { name: 'ЁЯеЬ рдореВрдВрдЧрдлрд▓реА (Groundnut) - рд╕рдореНрдкреВрд░реНрдг рдЬрд╛рдирдХрд╛рд░реА', content: `
                        <div class="space-y-4">
                            <p class="font-bold text-lg">ЁЯеЬ рдореВрдВрдЧрдлрд▓реА рдХреА рдЦреЗрддреА рдХрд╛ рд╕рдореНрдкреВрд░реНрдг рддрд░реАрдХрд╛</p>
                            <p><span class="font-semibold">рдЬрд▓рд╡рд╛рдпреБ:</span> рдЙрд╖реНрдг рдПрд╡рдВ рдЖрд░реНрджреНрд░ рдЬрд▓рд╡рд╛рдпреБ, 20-30┬░C рддрд╛рдкрдорд╛рдиред</p>
                            <p><span class="font-semibold">рдорд┐рдЯреНрдЯреА:</span> рд╣рд▓реНрдХреА рд░реЗрддреАрд▓реА рджреЛрдордЯ рдорд┐рдЯреНрдЯреА рдЬрд┐рд╕рдореЗрдВ рдЬрд▓ рдирд┐рдХрд╛рд╕реА рдЕрдЪреНрдЫреА рд╣реЛред</p>
                            <p><span class="font-semibold">рдмреБрд╡рд╛рдИ рдХрд╛ рд╕рдордп:</span> рдЦрд░реАрдл рдореЗрдВ рдЬреВрди-рдЬреБрд▓рд╛рдИ, рд░рдмреА рдореЗрдВ рдЬрдирд╡рд░реА-рдлрд░рд╡рд░реАред</p>
                            <p><span class="font-semibold">рдмреАрдЬ рджрд░:</span> 80-100 рдХрд┐рд▓реЛ рдкреНрд░рддрд┐ рд╣реЗрдХреНрдЯреЗрдпрд░ (рднреБрдЯреНрдЯрд╛ рд╕рд╣рд┐рдд)ред</p>
                            <p><span class="font-semibold">рдмреАрдЬ рдЙрдкрдЪрд╛рд░:</span> рдХрд╛рд░реНрдмреЗрдиреНрдбрд╛рдЬрд┐рдо 2 рдЧреНрд░рд╛рдо рдкреНрд░рддрд┐ рдХрд┐рд▓реЛ рдмреАрдЬред</p>
                            <p><span class="font-semibold">рдмреБрд╡рд╛рдИ рдХреА рд╡рд┐рдзрд┐:</span> рд▓рд╛рдЗрди рд╕реЗ рдмреБрд╡рд╛рдИ, рдХрддрд╛рд░ рд╕реЗ рдХрддрд╛рд░ 30-45 рд╕реЗрдореА, рдкреМрдзреЗ рд╕реЗ рдкреМрдзреЗ 10-15 рд╕реЗрдореАред</p>
                            <p><span class="font-semibold">рдЦрд╛рдж:</span> 20 рдХрд┐рд▓реЛ рдирд╛рдЗрдЯреНрд░реЛрдЬрди, 40 рдХрд┐рд▓реЛ рдлрд╛рд╕реНрдлреЛрд░рд╕, 40 рдХрд┐рд▓реЛ рдкреЛрдЯрд╛рд╢ рдкреНрд░рддрд┐ рд╣реЗрдХреНрдЯреЗрдпрд░ред</p>
                            <p><span class="font-semibold">рд╕рд┐рдВрдЪрд╛рдИ:</span> рдлреВрд▓ рдЖрдиреЗ рдФрд░ рдлрд▓рд┐рдпрд╛рдБ рдмрдирдиреЗ рдХреЗ рд╕рдордп рдирдореА рдХрд╛ рддрдирд╛рд╡ рди рд╣реЛрдиреЗ рджреЗрдВред</p>
                            <p><span class="font-semibold">рдХрдЯрд╛рдИ:</span> рдЬрдм рдкрддреНрддрд┐рдпрд╛рдБ рдкреАрд▓реА рдкрдбрд╝рдХрд░ рд╕реВрдЦрдиреЗ рд▓рдЧреЗрдВ рдФрд░ рдлрд▓рд┐рдпрд╛рдБ рднреАрддрд░ рд╕реЗ рд╕рдЦреНрдд рд╣реЛ рдЬрд╛рдПрдВред</p>
                        </div>
                    `},
                    // ---------- рдкреНрдпрд╛рдЬ (Onion) ----------
                    { name: 'ЁЯзЕ рдкреНрдпрд╛рдЬ (Onion) - рд╕рдореНрдкреВрд░реНрдг рдЬрд╛рдирдХрд╛рд░реА', content: `
                        <div class="space-y-4">
                            <p class="font-bold text-lg">ЁЯзЕ рдкреНрдпрд╛рдЬ рдХреА рдЦреЗрддреА рдХрд╛ рд╕рдореНрдкреВрд░реНрдг рддрд░реАрдХрд╛</p>
                            <p><span class="font-semibold">рдЬрд▓рд╡рд╛рдпреБ:</span> рд╕рдорд╢реАрддреЛрд╖реНрдг рдЬрд▓рд╡рд╛рдпреБ, 15-25┬░C рддрд╛рдкрдорд╛рдиред</p>
                            <p><span class="font-semibold">рдорд┐рдЯреНрдЯреА:</span> рджреЛрдордЯ рдпрд╛ рдмрд▓реБрдИ рджреЛрдордЯ рдорд┐рдЯреНрдЯреА рдЬрд┐рд╕рдореЗрдВ рдЬреИрд╡рд┐рдХ рдкрджрд╛рд░реНрде рдЕрдзрд┐рдХ рд╣реЛред</p>
                            <p><span class="font-semibold">рдмреБрд╡рд╛рдИ рдХрд╛ рд╕рдордп:</span> рдЦрд░реАрдл (рдЬреБрд▓рд╛рдИ-рдЕрдЧрд╕реНрдд), рд▓реЗрдЯ рдЦрд░реАрдл (рд╕рд┐рддрдореНрдмрд░-рдЕрдХреНрдЯреВрдмрд░), рд░рдмреА (рдЕрдХреНрдЯреВрдмрд░-рдирд╡рдореНрдмрд░)ред</p>
                            <p><span class="font-semibold">рдмреАрдЬ рджрд░:</span> 8-10 рдХрд┐рд▓реЛ рдкреНрд░рддрд┐ рд╣реЗрдХреНрдЯреЗрдпрд░ (рдирд░реНрд╕рд░реА рдХреЗ рд▓рд┐рдП)ред</p>
                            <p><span class="font-semibold">рдирд░реНрд╕рд░реА рддреИрдпрд╛рд░ рдХрд░рдирд╛:</span> 2-3 рдореАрдЯрд░ рд▓рдореНрдмреА рдХреНрдпрд╛рд░рд┐рдпрд╛рдБ рдмрдирд╛рдХрд░ рдмреАрдЬ рдмреЛрдПрдВ, 25-30 рджрд┐рди рдмрд╛рдж рд░реЛрдкрд╛рдИ рдХрд░реЗрдВред</p>
                            <p><span class="font-semibold">рд░реЛрдкрд╛рдИ рдХреА рджреВрд░реА:</span> рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЗ рдмреАрдЪ 15 рд╕реЗрдореА, рдкреМрдзреЛрдВ рдХреЗ рдмреАрдЪ 7-10 рд╕реЗрдореАред</p>
                            <p><span class="font-semibold">рдЦрд╛рдж:</span> рдЧреЛрдмрд░ рдХреА рдЦрд╛рдж 20-25 рдЯрди, рдирд╛рдЗрдЯреНрд░реЛрдЬрди 80-100 рдХрд┐рд▓реЛ, рдлрд╛рд╕реНрдлреЛрд░рд╕ 40-50 рдХрд┐рд▓реЛ, рдкреЛрдЯрд╛рд╢ 40-50 рдХрд┐рд▓реЛ рдкреНрд░рддрд┐ рд╣реЗрдХреНрдЯреЗрдпрд░ред</p>
                            <p><span class="font-semibold">рд╕рд┐рдВрдЪрд╛рдИ:</span> рд╢реБрд░реВрдЖрдд рдореЗрдВ рд╣рд▓реНрдХреА-рд╣рд▓реНрдХреА рд╕рд┐рдВрдЪрд╛рдИ, рдХрдВрдж рдмрдирддреЗ рд╕рдордп рдирдореА рдмрдирд╛рдП рд░рдЦреЗрдВред</p>
                            <p><span class="font-semibold">рдХрдЯрд╛рдИ:</span> рдЬрдм рдкрддреНрддрд┐рдпрд╛рдБ рдЧрд┐рд░рдХрд░ рдкреАрд▓реА рдкрдбрд╝ рдЬрд╛рдПрдВ рдФрд░ рдЧрд▓рди рд╢реБрд░реВ рд╣реЛ рдЬрд╛рдПред</p>
                        </div>
                    `},
                    // ---------- рдЖрд▓реВ (Potato) ----------
                    { name: 'ЁЯеФ рдЖрд▓реВ (Potato) - рд╕рдореНрдкреВрд░реНрдг рдЬрд╛рдирдХрд╛рд░реА', content: `
                        <div class="space-y-4">
                            <p class="font-bold text-lg">ЁЯеФ рдЖрд▓реВ рдХреА рдЦреЗрддреА рдХрд╛ рд╕рдореНрдкреВрд░реНрдг рддрд░реАрдХрд╛</p>
                            <p><span class="font-semibold">рдЬрд▓рд╡рд╛рдпреБ:</span> рдардВрдбреА рдЬрд▓рд╡рд╛рдпреБ, 15-25┬░C рддрд╛рдкрдорд╛рдиред</p>
                            <p><span class="font-semibold">рдорд┐рдЯреНрдЯреА:</span> рдмрд▓реБрдИ рджреЛрдордЯ рдорд┐рдЯреНрдЯреА рдЬрд┐рд╕рдореЗрдВ рдЬрд▓ рдирд┐рдХрд╛рд╕реА рдЕрдЪреНрдЫреА рд╣реЛ, pH 5.5-6.5ред</p>
                            <p><span class="font-semibold">рдмреБрд╡рд╛рдИ рдХрд╛ рд╕рдордп:</span> рдЙрддреНрддрд░реА рднрд╛рд░рдд рдореЗрдВ рдЕрдХреНрдЯреВрдмрд░-рдирд╡рдореНрдмрд░, рдкрд╣рд╛рдбрд╝реА рдХреНрд╖реЗрддреНрд░реЛрдВ рдореЗрдВ рдлрд░рд╡рд░реА-рдорд╛рд░реНрдЪред</p>
                            <p><span class="font-semibold">рдмреАрдЬ рджрд░:</span> 20-25 рдХреНрд╡рд┐рдВрдЯрд▓ рдкреНрд░рддрд┐ рд╣реЗрдХреНрдЯреЗрдпрд░ (рдХрдВрдж)ред</p>
                            <p><span class="font-semibold">рдмреАрдЬ рдЙрдкрдЪрд╛рд░:</span> рдХрдВрджреЛрдВ рдХреЛ 0.5% рдмрд╛рд╡рд┐рд╕реНрдЯреАрди рдХреЗ рдШреЛрд▓ рдореЗрдВ 20 рдорд┐рдирдЯ рдЙрдкрдЪрд╛рд░рд┐рдд рдХрд░реЗрдВред</p>
                            <p><span class="font-semibold">рдмреБрд╡рд╛рдИ рдХреА рд╡рд┐рдзрд┐:</span> рдХрддрд╛рд░ рд╕реЗ рдХрддрд╛рд░ 50-60 рд╕реЗрдореА, рдХрдВрдж рд╕реЗ рдХрдВрдж 15-20 рд╕реЗрдореА рдХреА рджреВрд░реА рдкрд░ рдмреЛрдПрдВред</p>
                            <p><span class="font-semibold">рдЦрд╛рдж:</span> рдЧреЛрдмрд░ рдХреА рдЦрд╛рдж 20-25 рдЯрди, рдирд╛рдЗрдЯреНрд░реЛрдЬрди 120-150 рдХрд┐рд▓реЛ, рдлрд╛рд╕реНрдлреЛрд░рд╕ 80-100 рдХрд┐рд▓реЛ, рдкреЛрдЯрд╛рд╢ 100-120 рдХрд┐рд▓реЛ рдкреНрд░рддрд┐ рд╣реЗрдХреНрдЯреЗрдпрд░ред</p>
                            <p><span class="font-semibold">рд╕рд┐рдВрдЪрд╛рдИ:</span> рд╢реБрд░реВрдЖрдд рдореЗрдВ рд╣рд▓реНрдХреА рд╕рд┐рдВрдЪрд╛рдИ, рдХрдВрдж рдмрдирддреЗ рд╕рдордп рдирд┐рдпрдорд┐рдд рд╕рд┐рдВрдЪрд╛рдИ рдХрд░реЗрдВред</p>
                            <p><span class="font-semibold">рдХрдЯрд╛рдИ:</span> рдмреБрд╡рд╛рдИ рдХреЗ 90-120 рджрд┐рди рдмрд╛рдж рдЬрдм рдкреМрдзреЗ рд╕реВрдЦрдХрд░ рдкреАрд▓реЗ рдкрдбрд╝ рдЬрд╛рдПрдВред</p>
                        </div>
                    `},
                    // ---------- рдЯрдорд╛рдЯрд░ (Tomato) ----------
                    { name: 'ЁЯНЕ рдЯрдорд╛рдЯрд░ (Tomato) - рд╕рдореНрдкреВрд░реНрдг рдЬрд╛рдирдХрд╛рд░реА', content: `
                        <div class="space-y-4">
                            <p class="font-bold text-lg">ЁЯНЕ рдЯрдорд╛рдЯрд░ рдХреА рдЦреЗрддреА рдХрд╛ рд╕рдореНрдкреВрд░реНрдг рддрд░реАрдХрд╛</p>
                            <p><span class="font-semibold">рдЬрд▓рд╡рд╛рдпреБ:</span> рдЧрд░реНрдо рд╕рдорд╢реАрддреЛрд╖реНрдг, 15-27┬░C рддрд╛рдкрдорд╛рдиред</p>
                            <p><span class="font-semibold">рдорд┐рдЯреНрдЯреА:</span> рдмрд▓реБрдИ рджреЛрдордЯ рдорд┐рдЯреНрдЯреА, pH 6.5-7.0ред</p>
                            <p><span class="font-semibold">рдмреБрд╡рд╛рдИ рдХрд╛ рд╕рдордп:</span> рдЦрд░реАрдл (рдЬреВрди-рдЬреБрд▓рд╛рдИ), рд░рдмреА (рдЕрдХреНрдЯреВрдмрд░-рдирд╡рдореНрдмрд░), рдЧреНрд░реАрд╖реНрдо (рдЬрдирд╡рд░реА-рдлрд░рд╡рд░реА)ред</p>
                            <p><span class="font-semibold">рдирд░реНрд╕рд░реА рддреИрдпрд╛рд░ рдХрд░рдирд╛:</span> рдЙрдареА рд╣реБрдИ рдХреНрдпрд╛рд░рд┐рдпреЛрдВ рдореЗрдВ рдмреАрдЬ рдмреЛрдПрдВ, 25-30 рджрд┐рди рдмрд╛рдж рд░реЛрдкрд╛рдИ рдХрд░реЗрдВред</p>
                            <p><span class="font-semibold">рдмреАрдЬ рджрд░:</span> 400-500 рдЧреНрд░рд╛рдо рдкреНрд░рддрд┐ рд╣реЗрдХреНрдЯреЗрдпрд░ред</p>
                            <p><span class="font-semibold">рд░реЛрдкрд╛рдИ рдХреА рджреВрд░реА:</span> рдХрддрд╛рд░ рд╕реЗ рдХрддрд╛рд░ 60-75 рд╕реЗрдореА, рдкреМрдзреЗ рд╕реЗ рдкреМрдзреЗ 45-60 рд╕реЗрдореАред</p>
                            <p><span class="font-semibold">рдЦрд╛рдж:</span> рдЧреЛрдмрд░ рдХреА рдЦрд╛рдж 20-25 рдЯрди, рдирд╛рдЗрдЯреНрд░реЛрдЬрди 100-120 рдХрд┐рд▓реЛ, рдлрд╛рд╕реНрдлреЛрд░рд╕ 50-60 рдХрд┐рд▓реЛ, рдкреЛрдЯрд╛рд╢ 50-60 рдХрд┐рд▓реЛ рдкреНрд░рддрд┐ рд╣реЗрдХреНрдЯреЗрдпрд░ред</p>
                            <p><span class="font-semibold">рд╕рд┐рдВрдЪрд╛рдИ:</span> рдлреВрд▓ рдЖрдиреЗ рдФрд░ рдлрд▓ рдмрдирдиреЗ рдХреЗ рд╕рдордп рдирд┐рдпрдорд┐рдд рд╕рд┐рдВрдЪрд╛рдИ рдЖрд╡рд╢реНрдпрдХред</p>
                            <p><span class="font-semibold">рдХрдЯрд╛рдИ:</span> рд░реЛрдкрд╛рдИ рдХреЗ 60-70 рджрд┐рди рдмрд╛рдж рдлрд▓ рддреЛрдбрд╝рдиреЗ рд▓рд╛рдпрдХ рд╣реЛ рдЬрд╛рддреЗ рд╣реИрдВред</p>
                        </div>
                    `},
                    // ---------- рдХреЗрд▓рд╛ (Banana) ----------
                    { name: 'ЁЯНМ рдХреЗрд▓рд╛ (Banana) - рд╕рдореНрдкреВрд░реНрдг рдЬрд╛рдирдХрд╛рд░реА', content: `
                        <div class="space-y-4">
                            <p class="font-bold text-lg">ЁЯНМ рдХреЗрд▓реЗ рдХреА рдЦреЗрддреА рдХрд╛ рд╕рдореНрдкреВрд░реНрдг рддрд░реАрдХрд╛</p>
                            <p><span class="font-semibold">рдЬрд▓рд╡рд╛рдпреБ:</span> рдЙрд╖реНрдг рдПрд╡рдВ рдЖрд░реНрджреНрд░ рдЬрд▓рд╡рд╛рдпреБ, 15-35┬░C рддрд╛рдкрдорд╛рдиред</p>
                            <p><span class="font-semibold">рдорд┐рдЯреНрдЯреА:</span> рдЧрд╣рд░реА, рдЬреИрд╡рд┐рдХ рдкрджрд╛рд░реНрде рд╕реЗ рднрд░рдкреВрд░ рджреЛрдордЯ рдорд┐рдЯреНрдЯреА, рдЬрд▓ рдирд┐рдХрд╛рд╕реА рдЙрдЪрд┐рдд рд╣реЛред</p>
                            <p><span class="font-semibold">рд░реЛрдкрдг рдХрд╛ рд╕рдордп:</span> рдлрд░рд╡рд░реА-рдорд╛рд░реНрдЪ (рд╡рд░реНрд╖рд╛ рд╕рд┐рдВрдЪрд┐рдд) рдпрд╛ рдЬреБрд▓рд╛рдИ-рдЕрдЧрд╕реНрдд (рд╡рд░реНрд╖рд╛ рдЖрдзрд╛рд░рд┐рдд)ред</p>
                            <p><span class="font-semibold">рд░реЛрдкрдг рд╕рд╛рдордЧреНрд░реА:</span> рд╕реНрд╡рд╕реНрде, рд░реЛрдЧрд░рд╣рд┐рдд рдкреМрдзреЗ рдпрд╛ рдкреНрд░рдХрдВрдж (рд░рд╛рдЗрдЬреЛрдо)ред</p>
                            <p><span class="font-semibold">рд░реЛрдкрдг рдХреА рджреВрд░реА:</span> 2 рдореА x 2 рдореА (рд╕рдШрди) рд╕реЗ 2.5 рдореА x 2.5 рдореА (рд╕рд╛рдорд╛рдиреНрдп)ред</p>
                            <p><span class="font-semibold">рдЦрд╛рдж:</span> рдЧреЛрдмрд░ рдХреА рдЦрд╛рдж 10-15 рдХрд┐рд▓реЛ, рдирд╛рдЗрдЯреНрд░реЛрдЬрди 200 рдЧреНрд░рд╛рдо, рдлрд╛рд╕реНрдлреЛрд░рд╕ 60 рдЧреНрд░рд╛рдо, рдкреЛрдЯрд╛рд╢ 300 рдЧреНрд░рд╛рдо рдкреНрд░рддрд┐ рдкреМрдзрд╛ред</p>
                            <p><span class="font-semibold">рд╕рд┐рдВрдЪрд╛рдИ:</span> 7-10 рджрд┐рди рдХреЗ рдЕрдВрддрд░рд╛рд▓ рдкрд░ рд╕рд┐рдВрдЪрд╛рдИред рдЧрд░реНрдорд┐рдпреЛрдВ рдореЗрдВ рдЕрдзрд┐рдХ рд╕рд┐рдВрдЪрд╛рдИ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ред</p>
                            <p><span class="font-semibold">рдХрдЯрд╛рдИ:</span> рд░реЛрдкрдг рдХреЗ 10-14 рдорд╣реАрдиреЗ рдмрд╛рдж рдЬрдм рдлрд▓ рдкреВрд░реА рддрд░рд╣ рд╡рд┐рдХрд╕рд┐рдд рд╣реЛ рдЬрд╛рдП рдФрд░ рдХреЛрдгреАрдп рдЖрдХрд╛рд░ рдЧреЛрд▓ рд╣реЛрдиреЗ рд▓рдЧреЗред</p>
                        </div>
                    `},
                    // ---------- рдЖрдо (Mango) ----------
                    { name: 'ЁЯен рдЖрдо (Mango) - рд╕рдореНрдкреВрд░реНрдг рдЬрд╛рдирдХрд╛рд░реА', content: `
                        <div class="space-y-4">
                            <p class="font-bold text-lg">ЁЯен рдЖрдо рдХреА рдЦреЗрддреА рдХрд╛ рд╕рдореНрдкреВрд░реНрдг рддрд░реАрдХрд╛</p>
                            <p><span class="font-semibold">рдЬрд▓рд╡рд╛рдпреБ:</span> рдЙрд╖реНрдг рдПрд╡рдВ рд╢реБрд╖реНрдХ рдЬрд▓рд╡рд╛рдпреБ, 24-30┬░C рддрд╛рдкрдорд╛рдиред</p>
                            <p><span class="font-semibold">рдорд┐рдЯреНрдЯреА:</span> рдЧрд╣рд░реА, рдЕрдЪреНрдЫреЗ рдЬрд▓ рдирд┐рдХрд╛рд╕ рд╡рд╛рд▓реА рджреЛрдордЯ рдорд┐рдЯреНрдЯреА, pH 5.5-7.5ред</p>
                            <p><span class="font-semibold">рд░реЛрдкрдг рдХрд╛ рд╕рдордп:</span> рдЬреБрд▓рд╛рдИ-рдЕрдЧрд╕реНрдд (рд╡рд░реНрд╖рд╛ рдЛрддреБ) рдпрд╛ рдлрд░рд╡рд░реА-рдорд╛рд░реНрдЪ (рд╡рд╕рдВрдд рдЛрддреБ)ред</p>
                            <p><span class="font-semibold">рд░реЛрдкрдг рд╕рд╛рдордЧреНрд░реА:</span> рдХрд▓рдо рдпрд╛ рдЧреНрд░рд╛рдлреНрдЯреЗрдб рдкреМрдзреЗред</p>
                            <p><span class="font-semibold">рд░реЛрдкрдг рдХреА рджреВрд░реА:</span> 8 рдореА x 8 рдореА рд╕реЗ 10 рдореА x 10 рдореАред</p>
                            <p><span class="font-semibold">рдЧрдбреНрдвреЗ рдХреА рддреИрдпрд╛рд░реА:</span> 1 рдореА x 1 рдореА x 1 рдореА рдХреЗ рдЧрдбреНрдвреЗ рдЦреЛрджрдХрд░ рдзреВрдк рдореЗрдВ рд░рдЦреЗрдВ, рдлрд┐рд░ рдЙрд╕рдореЗрдВ рдЧреЛрдмрд░ рдХреА рдЦрд╛рдж, рд╕реБрдкрд░ рдлрд╛рд╕реНрдлреЗрдЯ рдФрд░ рдорд┐рдЯреНрдЯреА рднрд░реЗрдВред</p>
                            <p><span class="fontя┐╜ont-bold">рдЦрд╛рдж:</span> рдкреЗрдбрд╝ рдХреА рдЙрдореНрд░ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдЧреЛрдмрд░ рдХреА рдЦрд╛рдж 20-50 рдХрд┐рд▓реЛ, рдирд╛рдЗрдЯреНрд░реЛрдЬрди 500 рдЧреНрд░рд╛рдо-1 рдХрд┐рд▓реЛ, рдлрд╛рд╕реНрдлреЛрд░рд╕ 250-500 рдЧреНрд░рд╛рдо, рдкреЛрдЯрд╛рд╢ 500 рдЧреНрд░рд╛рдо-1 рдХрд┐рд▓реЛ рдкреНрд░рддрд┐ рдкреЗрдбрд╝ред</p>
                            <p><span class="font-semibold">рд╕рд┐рдВрдЪрд╛рдИ:</span> рдлреВрд▓ рдЖрдиреЗ рдФрд░ рдлрд▓ рдмрдирдиреЗ рдХреЗ рд╕рдордп рдирдореА рдХрд╛ рддрдирд╛рд╡ рди рд╣реЛрдиреЗ рджреЗрдВред</p>
                            <p><span class="font-semibold">рдХрдЯрд╛рдИ:</span> рдлрд▓реЛрдВ рдХрд╛ рд░рдВрдЧ рдмрджрд▓рдиреЗ рдФрд░ рдЧрдВрдз рдЖрдиреЗ рдкрд░ рд╣рд╛рде рд╕реЗ рддреЛрдбрд╝реЗрдВред</p>
                        </div>
                    `},
                    // ... рдЗрд╕реА рддрд░рд╣ рдЕрдиреНрдп рдлрд╕рд▓реЛрдВ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╕реНрддреГрдд рдЬрд╛рдирдХрд╛рд░реА рдЬреЛрдбрд╝реА рдЬрд╛ рд╕рдХрддреА рд╣реИ ...
                ]
            },
            'SchemesActivity': { 
                title: 'рд╕рд░рдХрд╛рд░реА рдпреЛрдЬрдирд╛рдПрдВ', 
                items: [
                    { name: 'тЬи AI рдпреЛрдЬрдирд╛ рдЦреЛрдЬрдХ (Helper)', isAi: true, mode: 'scheme', welcome: 'рдЕрдкрдиреА рдЬрд╛рдирдХрд╛рд░реА рджреЗрдВ (рдЬреИрд╕реЗ: рдореЗрд░реЗ рдкрд╛рд╕ 2 рдПрдХреЬ рдЬрдореАрди рд╣реИ) рддрд╛рдХрд┐ рд╕рд╣реА рдпреЛрдЬрдирд╛ рдмрддрд╛ рд╕рдХреВрдБ тЬи' },
                    { name: 'рдкреНрд░рдзрд╛рдирдордВрддреНрд░реА рдХрд┐рд╕рд╛рди рд╕рдореНрдорд╛рди рдирд┐рдзрд┐ (PM-KISAN)', content: 'рдкрд╛рддреНрд░ рдХрд┐рд╕рд╛рдиреЛрдВ рдХреЛ рд╕рд╛рд▓рд╛рдирд╛ 6000 рд░реБрдкрдпреЗ (2000-2000 рдХреА рддреАрди рдХрд┐рд╕реНрддреЗрдВ) рд╕реАрдзреЗ рдмреИрдВрдХ рдЦрд╛рддреЗ рдореЗрдВред рдЖрд╡реЗрджрди рдХреЗ рд▓рд┐рдП рдирдЬрджреАрдХреА CSC рдпрд╛ рдХреГрд╖рд┐ рд╡рд┐рднрд╛рдЧ рд╕реЗ рд╕рдВрдкрд░реНрдХ рдХрд░реЗрдВред' },
                    { name: 'рдкреНрд░рдзрд╛рдирдордВрддреНрд░реА рдлрд╕рд▓ рдмреАрдорд╛ рдпреЛрдЬрдирд╛ (PMFBY)', content: 'рдкреНрд░рд╛рдХреГрддрд┐рдХ рдЖрдкрджрд╛, рдХреАрдЯ рд░реЛрдЧ рд╕реЗ рдлрд╕рд▓ рд╣рд╛рдирд┐ рдкрд░ рдмреАрдорд╛ рдХрд╡рд░ред рдкреНрд░реАрдорд┐рдпрдо: рдЦрд░реАрдл 2%, рд░рдмреА 1.5% (рдХрд┐рд╕рд╛рди рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛)ред рдмреИрдВрдХ/рдмреАрдорд╛ рдХрдВрдкрдиреА рд╕реЗ рдЬрд╛рдирдХрд╛рд░реА рд▓реЗрдВред' },
                    // ... other schemes ...
                ]
            },
            'HealthActivity': { 
                title: 'рд╕реНрд╡рд╛рд╕реНрдереНрдп рд╕реЗрд╡рд╛', 
                items: [
                    { name: 'рдЖрдкрд╛рддрдХрд╛рд▓реАрди рд╕рдВрдкрд░реНрдХ', content: 'рдПрдореНрдмреБрд▓реЗрдВрд╕ 108, рдкрд╢реБ рдПрдореНрдмреБрд▓реЗрдВрд╕ 1962, рдирдЬрджреАрдХреА рд╕реНрд╡рд╛рд╕реНрдереНрдп рдХреЗрдВрджреНрд░ рдХрд╛ рдкрддрд╛ рдкрдВрдЪрд╛рдпрдд рд╕реЗ рд▓реЗрдВред' },
                    { name: 'рдкреНрд░рд╛рдердорд┐рдХ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдХреЗрдВрджреНрд░ (PHC)', content: 'рдЖрдкрдХреЗ рдирдЬрджреАрдХреА PHC рдкрд░ рдореБрдлреНрдд рдЗрд▓рд╛рдЬ, рджрд╡рд╛рдПрдВ, рдЯреАрдХрд╛рдХрд░рдгред рд╕рдВрдЪрд╛рд▓рди: рд╕реБрдмрд╣ 8 рд╕реЗ рд░рд╛рдд 8 рдмрдЬреЗ рддрдХред' },
                    // ... other health items ...
                ]
            },
            'LoansActivity': { 
                title: 'рд▓реЛрди рдФрд░ рдмреИрдВрдХрд┐рдВрдЧ', 
                items: [
                    { name: 'рдХрд┐рд╕рд╛рди рдХреНрд░реЗрдбрд┐рдЯ рдХрд╛рд░реНрдб (KCC)', content: 'рдлрд╕рд▓ рдЛрдг рдХреЗ рд▓рд┐рдП KCC рдмрдирд╡рд╛рдПрдВред 3 рд▓рд╛рдЦ рддрдХ рдХрд╛ рдЕрд▓реНрдкрдХрд╛рд▓реАрди рдЛрдг 4% рдмреНрдпрд╛рдЬ рдкрд░ред рдмреИрдВрдХ рдореЗрдВ рдЖрд╡реЗрджрди рдХрд░реЗрдВред' },
                    { name: 'рдХреГрд╖рд┐ рдпрдВрддреНрд░ рдЛрдг (рдЯреНрд░реИрдХреНрдЯрд░, рдереНрд░реЗрд╢рд░)', content: 'рдЯреНрд░реИрдХреНрдЯрд░, рдереНрд░реЗрд╢рд░, рдХрдВрдмрд╛рдЗрди рд╣рд╛рд░реНрд╡реЗрд╕реНрдЯрд░ рдЦрд░реАрджрдиреЗ рдХреЗ рд▓рд┐рдП 5-10 рд▓рд╛рдЦ рддрдХ рдЛрдг, рдмреНрдпрд╛рдЬ рджрд░ 7-9%ред рдирд╛рдмрд╛рд░реНрдб рд╕реЗ рд╕рдореНрдмрджреНрдз рдмреИрдВрдХреЛрдВ рдореЗрдВ рдЖрд╡реЗрджрдиред' },
                    // ... other loan items ...
                ]
            }
        };

        function startActivity(id) {
            if (id === 'AI_Assistant') {
                openAiAssistant('general', translations[currentLanguage]?.aiIntro || 'Hello! I am your GramSahayak AI. Write your problem below.');
                return;
            }

            if(id === 'WeatherActivity') {
                document.querySelectorAll('.activity').forEach(a => a.classList.remove('active'));
                document.getElementById('WeatherActivity').classList.add('active');
                activityStack.push('WeatherActivity');
                return;
            }

            const data = pageData[id];
            if(data) {
                showSubItems(id, data.title, data.items);
                return;
            }

            // sub-item click
            let foundItem = null;
            let parentTitle = '';
            for (let key in pageData) {
                const items = pageData[key].items;
                const match = items.find(item => item.name === id);
                if (match) {
                    foundItem = match;
                    parentTitle = pageData[key].title;
                    break;
                }
            }

            if (foundItem) {
                if (foundItem.isAi) {
                    openAiAssistant(foundItem.mode, foundItem.welcome);
                } else {
                    showDetailContent(parentTitle, foundItem.name, foundItem.content);
                }
            } else {
                alert('рдЬрд╛рдирдХрд╛рд░реА рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реИ');
            }
        }

        function showSubItems(activityId, title, items) {
            document.querySelectorAll('.activity').forEach(a => a.classList.remove('active'));
            const detail = document.getElementById('DetailView');
            document.getElementById('detail-title').innerText = title;
            
            let html = '';
            items.forEach(item => {
                const isAi = item.isAi;
                const itemName = item.name;
                html += `
                <div class="card-material !mx-0 mb-3 flex justify-between items-center ${isAi ? 'border-indigo-200 bg-indigo-50' : ''}" 
                     onclick="startActivity('${itemName.replace(/'/g, "\\'")}')">
                    <span class="font-bold ${isAi ? 'text-indigo-800' : ''}">${itemName}</span>
                    <span class="text-gray-300">тЭп</span>
                </div>
                `;
            });

            document.getElementById('detail-content').innerHTML = html;
            detail.classList.add('active');
            activityStack.push('DetailView');
        }

        function showDetailContent(parentTitle, title, content) {
            document.querySelectorAll('.activity').forEach(a => a.classList.remove('active'));
            const detail = document.getElementById('DetailView');
            document.getElementById('detail-title').innerText = title;
            document.getElementById('detail-content').innerHTML = `
                <div class="card-material !mx-0 bg-white p-6">
                    <p class="text-lg font-bold mb-4">${title}</p>
                    <div class="text-gray-700 leading-relaxed space-y-2">${content}</div>
                </div>
            `;
            detail.classList.add('active');
            activityStack.push('DetailView');
        }

        function openAiAssistant(mode, welcomeMsg) {
            currentAiMode = mode;
            document.querySelectorAll('.activity').forEach(a => a.classList.remove('active'));
            document.getElementById('AIActivity').classList.add('active');
            document.getElementById('ai-title').innerText = mode === 'crop' ? 'тЬи рдлрд╕рд▓ рдирд┐рджрд╛рди' : (mode === 'scheme' ? 'тЬи рдпреЛрдЬрдирд╛ рд╕рд╣рд╛рдпрдХ' : 'тЬи AI рд╕рд╣рд╛рдпрдХ');
            document.getElementById('ai-intro-text').innerText = welcomeMsg;
            document.getElementById('ai-chat-history').innerHTML = `<div class="chat-bubble ai-msg">${welcomeMsg}</div>`;
            activityStack.push('AIActivity');
        }

async function callAI(prompt, systemInstruction) {
    try {
        const res = await fetch("http://127.0.0.1:5000/api/chat", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ prompt, systemInstruction })
        });
        const data = await res.json();
        if (!res.ok) {
            // Show error from backend
            return "тЭМ " + (data.error || "Unknown error");
        }
        return data.reply || "рдЙрддреНрддрд░ рдкреНрд░рд╛рдкреНрдд рдирд╣реАрдВ рд╣реБрдЖред";
    } catch (err) {
        return "рдиреЗрдЯрд╡рд░реНрдХ рд╕рдорд╕реНрдпрд╛: " + err.message;
    }
}

document.getElementById("ai-submit-btn").onclick = async () => {
    const input = document.getElementById("ai-input");
    const history = document.getElementById("ai-chat-history");
    const text = input.value.trim();
    if (!text) return;

    history.innerHTML += `<div class="chat-bubble user-msg">${text}</div>`;
    input.value = "";

    const loadingId = "l" + Date.now();
    history.innerHTML += `<div id="${loadingId}" class="chat-bubble ai-msg loading">AI рд╕реЛрдЪ рд░рд╣рд╛ рд╣реИ...</div>`;

    const systemPrompt =
        "You are GramSahayak AI. Help Indian farmers in simple Hindi.";

    const reply = await callAI(text, systemPrompt);

    document.getElementById(loadingId).remove();
    history.innerHTML += `<div class="chat-bubble ai-msg">${reply}</div>`;
};




// Back navigation
function onBackPressed() {
    if (activityStack.length > 1) {
        activityStack.pop(); // remove current
        const previous = activityStack[activityStack.length - 1];
        document.querySelectorAll('.activity').forEach(a => a.classList.remove('active'));
        document.getElementById(previous).classList.add('active');
    } else {
        // If only MainActivity, stay there
        document.querySelectorAll('.activity').forEach(a => a.classList.remove('active'));
        document.getElementById('MainActivity').classList.add('active');
        activityStack = ['MainActivity'];
    }
}

// Switch main tab (home / AI assistant)
function switchMainTab(activityId, btn) {
    document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    startActivity(activityId);
}
    </script>
</body>
</html>